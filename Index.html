<style>
cursor: grab;
      user-select: none;
    }
    .red { background: #c0392b; color: #fff; }
    .blue { background: #2980b9; color: #fff; }
    .black { background: #111; color: #fff; }
    .green { background: #27ae60; color: #fff; }
    .white { background: #ecf0f1; color: #222; }
  </style>
</head>
<body>

  <div id="controls">
    <input id="nodeText" placeholder="New idea..." />
    <select id="nodeColor">
      <option value="red">Business</option>
      <option value="blue">Creative</option>
      <option value="black">Philosophy</option>
      <option value="green">Growth</option>
      <option value="white">Question</option>
    </select>
    <button onclick="createNode()">Add</button>
  </div>

  <script>
    let selected = null;
    let offsetX, offsetY;

    function createNode() {
      const text = document.getElementById('nodeText').value;
      const color = document.getElementById('nodeColor').value;
      if (!text) return;

      const node = document.createElement('div');
      node.className = `node ${color}`;
      node.textContent = text;
      node.style.left = Math.random() * 300 + 50 + 'px';
      node.style.top = Math.random() * 400 + 100 + 'px';

      addDragEvents(node);
      document.body.appendChild(node);

      document.getElementById('nodeText').value = '';
    }

    function addDragEvents(el) {
      el.addEventListener('mousedown', pointerDown);
      el.addEventListener('touchstart', pointerDown, { passive: false });
    }

    function pointerDown(e) {
      selected = e.target;
      const point = e.touches ? e.touches[0] : e;
      offsetX = point.clientX - selected.offsetLeft;
      offsetY = point.clientY - selected.offsetTop;
    }

    function pointerMove(e) {
      if (!selected) return;
      e.preventDefault();
      const point = e.touches ? e.touches[0] : e;
      selected.style.left = (point.clientX - offsetX) + 'px';
      selected.style.top = (point.clientY - offsetY) + 'px';
    }

    function pointerUp() {
      selected = null;
    }

    document.addEventListener('mousemove', pointerMove);
    document.addEventListener('touchmove', pointerMove, { passive: false });
    document.addEventListener('mouseup', pointerUp);
    document.addEventListener('touchend', pointerUp);
  </script>

</body>
</html>